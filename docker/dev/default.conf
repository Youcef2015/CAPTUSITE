<VirtualHost *:80>
    ProxyPreserveHost on
    ProxyPass /api http://127.0.0.1:8089/api
    ProxyPassReverse /api http://127.0.0.1:8089/api

    DocumentRoot /var/www/html/front/dist/
    <Directory /var/www/html/front/dist/>
        Options -Indexes +FollowSymLinks -MultiViews
        AllowOverride All
        Order allow,deny
        allow from all

        # Don't rewrite files or directories
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteCond %{REQUEST_FILENAME} !-f

        # Rewrite everything else to index.html to allow html5 state links
        RewriteRule ^ index.html [L]
    </Directory>

</VirtualHost>

<VirtualHost *:8089>
     DocumentRoot /var/www/html/back/public
     <Directory /var/www/html/back/public>
        AllowOverride All
        Options -Indexes +FollowSymLinks -SymLinksIfOwnerMatch -MultiViews
        Order Allow,Deny
        Allow from All
        Header set Access-Control-Allow-Headers "X-USER, x-requested-with, Content-Type, origin, authorization, accept, client-security-token"
        Header set Access-Control-Allow-Origin "http://localhost:10000"
     </Directory>
</VirtualHost>
